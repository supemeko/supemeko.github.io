<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Flutterç”µå•†é¡¹ç›®å­¦ä¹ ç¬”è®° 03-å®Œå–„æ”¶è´§åœ°å€é¡µé¢ | Gary's Blogs</title><meta name="author" content="Gary Go"><meta name="copyright" content="Gary Go"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="æœ€è¿‘å¼€å§‹å­¦ä¹ ä¸€ä¸ªå¼€æºçš„ç”µå•†é¡¹ç›®ï¼Œæœ€å¼€å§‹åªæ˜¯æƒ³å­¦ä¹ flutterï¼Œä½†æ˜¯ä¸ºäº†è·‘èµ·flutterçš„ç”µå•†é¡¹ç›®ï¼Œè¢«è¿«å­¦ä¹ äº†å¾ˆå¤šçŸ¥è¯†ã€‚ å…¶ä¸­åŒ…æ‹¬Flutteræ¡†æ¶ï¼Œgolangè¯­è¨€å¼€å‘çš„åç«¯ï¼Œé‡‡ç”¨go-zeroå¾®æœåŠ¡æ¡†æ¶ï¼Œåˆè¦å­¦ä¹ gPRC, etcdç­‰é¡¹ç›®ã€‚ æœ¬æ¥ä»¥ä¸ºå®Œäº‹äº†ï¼Œç»“æœåå°ç®¡ç†é¡µé¢æ˜¯reactå†™çš„ï¼Œè¿˜ç”¨äº†ant-design-proã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="Flutterç”µå•†é¡¹ç›®å­¦ä¹ ç¬”è®° 03-å®Œå–„æ”¶è´§åœ°å€é¡µé¢">
<meta property="og:url" content="https://supemeko.github.io/2024/05/03/studys-zero-mall/studys-zero-mall-03/index.html">
<meta property="og:site_name" content="Gary&#39;s Blogs">
<meta property="og:description" content="æœ€è¿‘å¼€å§‹å­¦ä¹ ä¸€ä¸ªå¼€æºçš„ç”µå•†é¡¹ç›®ï¼Œæœ€å¼€å§‹åªæ˜¯æƒ³å­¦ä¹ flutterï¼Œä½†æ˜¯ä¸ºäº†è·‘èµ·flutterçš„ç”µå•†é¡¹ç›®ï¼Œè¢«è¿«å­¦ä¹ äº†å¾ˆå¤šçŸ¥è¯†ã€‚ å…¶ä¸­åŒ…æ‹¬Flutteræ¡†æ¶ï¼Œgolangè¯­è¨€å¼€å‘çš„åç«¯ï¼Œé‡‡ç”¨go-zeroå¾®æœåŠ¡æ¡†æ¶ï¼Œåˆè¦å­¦ä¹ gPRC, etcdç­‰é¡¹ç›®ã€‚ æœ¬æ¥ä»¥ä¸ºå®Œäº‹äº†ï¼Œç»“æœåå°ç®¡ç†é¡µé¢æ˜¯reactå†™çš„ï¼Œè¿˜ç”¨äº†ant-design-proã€‚">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://jsd.012700.xyz/gh/jerryc127/CDN@latest/cover/default_bg.png">
<meta property="article:published_time" content="2024-05-03T14:08:17.000Z">
<meta property="article:modified_time" content="2025-01-25T04:15:38.295Z">
<meta property="article:author" content="Gary Go">
<meta property="article:tag" content="æ–‡ç« ">
<meta property="article:tag" content="å­¦ä¹ ç¬”è®°">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://jsd.012700.xyz/gh/jerryc127/CDN@latest/cover/default_bg.png"><link rel="shortcut icon" href="/img/robot.svg"><link rel="canonical" href="https://supemeko.github.io/2024/05/03/studys-zero-mall/studys-zero-mall-03/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":1,"translateDelay":0,"msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç°¡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  dateSuffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: 'åŠ è½½æ›´å¤š'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: true,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Flutterç”µå•†é¡¹ç›®å­¦ä¹ ç¬”è®° 03-å®Œå–„æ”¶è´§åœ°å€é¡µé¢',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-01-25 12:15:38'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">10</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">2</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">4</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://jsd.012700.xyz/gh/jerryc127/CDN@latest/cover/default_bg.png')"><nav id="nav"><span id="blog-info"><a href="/" title="Gary's Blogs"><img class="site-icon" src="/img/robot.svg"/><span class="site-name">Gary's Blogs</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Flutterç”µå•†é¡¹ç›®å­¦ä¹ ç¬”è®° 03-å®Œå–„æ”¶è´§åœ°å€é¡µé¢</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2024-05-03T14:08:17.000Z" title="å‘è¡¨äº 2024-05-03 22:08:17">2024-05-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2025-01-25T04:15:38.295Z" title="æ›´æ–°äº 2025-01-25 12:15:38">2025-01-25</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">å­¦ä¹ ç¬”è®°</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Flutter%E7%94%B5%E5%95%86%E9%A1%B9%E7%9B%AE/">Flutterç”µå•†é¡¹ç›®</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Flutterç”µå•†é¡¹ç›®å­¦ä¹ ç¬”è®° 03-å®Œå–„æ”¶è´§åœ°å€é¡µé¢"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><h3 id="æ¦‚è¦"><a href="#æ¦‚è¦" class="headerlink" title="æ¦‚è¦"></a>æ¦‚è¦</h3><p>æœ¬ç« èŠ‚å¯¹ç§»åŠ¨ç«¯APPä¸­ï¼Œå°†å®Œå–„æ”¶è´§åœ°å€çš„äº¤äº’çš„åŠŸèƒ½ã€‚<br>è¯¥é¡µé¢ä½äºç§»åŠ¨ç«¯APP <mark class="hl-label blue">æˆ‘çš„ > åœ°å€ç®¡ç†</mark> ï¼Œç›®å‰å·²ç»å®Œæˆåˆ—è¡¨å±•ç¤ºã€åœ°å€è¯¦æƒ…å±•ç¤ºçš„åŠŸèƒ½ã€‚ä½†æ˜¯æ— æ³•è¿›è¡Œæ–°å»ºå’Œä¿®æ”¹åœ°å€ä¿¡æ¯çš„æ“ä½œ<br>è¯¥ç« èŠ‚ä¸»è¦å†…å®¹åŒ…æ‹¬ï¼š</p>
<ol>
<li>é¡µé¢äº¤äº’é€»è¾‘ä»¥åŠç›¸åº”åç«¯æ”¹é€ ã€‚</li>
<li>è·å–è®¾å¤‡ä¿¡æ¯ï¼Œè°ƒç”¨ç¬¬ä¸‰æ–¹æ¥å£ä¼˜åŒ–ç”¨æˆ·ä½“éªŒã€‚</li>
<li>è°ƒç”¨åº“å®ç°ä»æ–‡æœ¬ä¸­æå–åœ°å€ä¿¡æ¯åŠŸèƒ½ã€‚</li>
<li>æ€»ç»“åŠå¯èƒ½è¿›ä¸€æ­¥å®Œå–„çš„åœ°æ–¹</li>
</ol>
<h3 id="å…¶ä»–ä¿¡æ¯"><a href="#å…¶ä»–ä¿¡æ¯" class="headerlink" title="å…¶ä»–ä¿¡æ¯"></a>å…¶ä»–ä¿¡æ¯</h3><p>æ”¶è´§åœ°å€åç®¡é¡µé¢ä½äº <mark class="hl-label blue">ä¼šå‘˜ç®¡ç† > ä¼šå‘˜åˆ—è¡¨</mark> ï¼Œç‚¹å‡»æŸ¥è¯¢<mark class="hl-label blue">ä¼šå‘˜åœ°å€</mark> <br>ä¼šå‘˜æ”¶è´§åœ°å€è¡¨çš„è¡¨å <strong>ums_member_receive_address</strong></p>
<h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><h3 id="é¡µé¢äº¤äº’é€»è¾‘ä»¥åŠç›¸åº”åç«¯æ”¹é€ "><a href="#é¡µé¢äº¤äº’é€»è¾‘ä»¥åŠç›¸åº”åç«¯æ”¹é€ " class="headerlink" title="é¡µé¢äº¤äº’é€»è¾‘ä»¥åŠç›¸åº”åç«¯æ”¹é€ "></a>é¡µé¢äº¤äº’é€»è¾‘ä»¥åŠç›¸åº”åç«¯æ”¹é€ </h3><h4 id="åç«¯æ¥å£"><a href="#åç«¯æ¥å£" class="headerlink" title="åç«¯æ¥å£"></a>åç«¯æ¥å£</h4><figure class="highlight go"><figcaption><span>æ¶‰åŠçš„åç«¯æ¥å£</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">MemberReceiveAddressAdd(context.Context, *MemberReceiveAddressAddReq) (*MemberReceiveAddressAddResp, <span class="type">error</span>)</span><br><span class="line">MemberReceiveAddressList(context.Context, *MemberReceiveAddressListReq) (*MemberReceiveAddressListResp, <span class="type">error</span>)</span><br><span class="line">MemberReceiveAddressUpdate(context.Context, *MemberReceiveAddressUpdateReq) (*MemberReceiveAddressUpdateResp, <span class="type">error</span>)</span><br><span class="line">MemberReceiveAddressDelete(context.Context, *MemberReceiveAddressDeleteReq) (*MemberReceiveAddressDeleteResp, <span class="type">error</span>)</span><br></pre></td></tr></table></figure>
<p>ç›®å‰åç«¯æ¥å£ä¸­å·²ç»åŒ…æ‹¬Add,List,Update,Deleteç­‰æ–¹æ³•ã€‚<br>å…¶ä¸­Add, Updateæ¥å£éœ€è¦æ”¹é€ ï¼Œå…¶ä»–æ¥å£ä¸éœ€è¦å˜åŠ¨ï¼Œè¿™å››ä¸ªæ¥å£å·²æ»¡è¶³ç§»åŠ¨ç«¯ä½¿ç”¨ã€‚</p>
<h4 id="Add-Updateæ¥å£æ”¹é€ "><a href="#Add-Updateæ¥å£æ”¹é€ " class="headerlink" title="Add, Updateæ¥å£æ”¹é€ "></a>Add, Updateæ¥å£æ”¹é€ </h4><p>æ–°å¢å’Œä¿®æ”¹æ”¶è´§åœ°å€æ¥å£ï¼ˆAdd, Updateæ¥å£ï¼‰ä¸­ï¼Œéœ€è¦å¤„ç†ã€é»˜è®¤åœ°å€ã€çš„ç›¸å…³é€»è¾‘ï¼Œç¡®ä¿æ¯ä¸ªä¼šå‘˜åªæœ‰ä¸€ä¸ªé»˜è®¤æ”¶è´§åœ°å€ã€‚<br>ã€æ˜¯å¦ä¸ºé»˜è®¤åœ°å€ã€å’Œå…¶ä»–å­—æ®µå­˜æ”¾åœ¨ä¼šå‘˜æ”¶è´§åœ°å€è¡¨ä¸­ï¼Œè€ŒAddå’ŒUpdateæ¥å£åœ¨å°†æŸæ¡è®°å½•è®¾ç½®ä¸ºã€é»˜è®¤åœ°å€ã€å‰ï¼Œä¼šå…ˆè¿›è¡Œç§»é™¤åŸé»˜è®¤åœ°å€çš„æ“ä½œã€‚</p>
<ul>
<li>ç§»é™¤åŸé»˜è®¤åœ°å€æ“ä½œï¼Œæ¶‰åŠä¸¤æ¡<strong>SQL</strong>è¯­å¥<ol>
<li>æŸ¥è¯¢å½“å‰ç”¨æˆ·æ‰€æœ‰çš„æ”¶è´§åœ°å€çš„<strong>query</strong>è¯­å¥ï¼›</li>
<li>å½“æ”¶è´§åœ°å€æ˜¯ã€é»˜è®¤åœ°å€ã€æ—¶ï¼Œé€šè¿‡<strong>update</strong>è¯­å¥å°†å…¶è®¾ç½®ä¸ºã€éé»˜è®¤åœ°å€ã€ã€‚</li>
</ol>
</li>
<li>ç§»é™¤åŸé»˜è®¤åœ°å€æ“ä½œï¼Œé€‚å½“æ”¹é€ åä»…éœ€è¦ä¸€æ¡<strong>SQL</strong>è¯­å¥<ul>
<li><code>update ums_member_receive_address set default_status = 0 where member_id = ? and default_status = 1</code></li>
</ul>
</li>
</ul>
<h5 id="æ–°å¢æ•°æ®åº“æ“ä½œæ¥å£"><a href="#æ–°å¢æ•°æ®åº“æ“ä½œæ¥å£" class="headerlink" title="æ–°å¢æ•°æ®åº“æ“ä½œæ¥å£"></a>æ–°å¢æ•°æ®åº“æ“ä½œæ¥å£</h5><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">UmsMemberReceiveAddressModel interface &#123;</span><br><span class="line">	UmsMemberReceiveAddressModel interface &#123;</span><br><span class="line">    umsMemberReceiveAddressModel</span><br><span class="line">    Count(ctx context.Context, in *umsclient.MemberReceiveAddressListReq) (int64, error)</span><br><span class="line">    FindAll(ctx context.Context, in *umsclient.MemberReceiveAddressListReq) (*[]UmsMemberReceiveAddress, error)</span><br><span class="line">    DeleteByIdAndMemberId(ctx context.Context, id int64, MemberId int64) error</span><br><span class="line">    FindByIdAndMemberId(ctx context.Context, id int64, memberId int64) (*UmsMemberReceiveAddress, error)</span><br><span class="line"><span class="addition">+   CancelDefaultAddressByMemberId(ctx context.Context, memberId int64) error</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸º<strong>UmsMemberReceiveAddressModel</strong>ä¸­æ–°å¢ä¸€ä¸ªæ¥å£ã€‚è¿™é‡Œçš„<strong>Model</strong>å¯¹è±¡ç±»ä¼¼<strong>Spring</strong>ä¸­çš„<strong>Dao</strong>å¯¹è±¡ã€‚</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(m *customUmsMemberReceiveAddressModel)</span></span> CancelDefaultAddressByMemberId(ctx context.Context, memberId <span class="type">int64</span>) <span class="type">error</span> &#123;</span><br><span class="line">	query := fmt.Sprintf(<span class="string">&quot;update %s set default_status = 0 where member_id = ? and default_status = 1&quot;</span>, m.table)</span><br><span class="line">	_, err := m.conn.ExecCtx(ctx, query, memberId)</span><br><span class="line">	<span class="keyword">return</span> err</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å®ç°æ–°æ·»åŠ çš„ç§»é™¤åŸé»˜è®¤åœ°å€æ¥å£ï¼›<br>å¤„ç†é€»è¾‘æ˜¯æ ¹æ®<strong>ä¼šå‘˜id</strong>ï¼Œå°†<strong>default_status &#x3D; 1</strong>çš„æ‰€æœ‰è®°å½•ä¿®æ”¹ä¸º<strong>default_status &#x3D; 0</strong></p>
<h5 id="æ›´æ–°åç«¯æ¥å£çš„å®ç°"><a href="#æ›´æ–°åç«¯æ¥å£çš„å®ç°" class="headerlink" title="æ›´æ–°åç«¯æ¥å£çš„å®ç°"></a>æ›´æ–°åç«¯æ¥å£çš„å®ç°</h5><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">    if in.DefaultStatus == 1 &#123;</span><br><span class="line"><span class="deletion">-           //æŸ¥è¯¢ä¼šå‘˜æ‰€æœ‰æœ‰åœ°å€</span></span><br><span class="line"><span class="deletion">-           memberList, _ := l.svcCtx.UmsMemberReceiveAddressModel.FindAll(l.ctx, &amp;umsclient.MemberReceiveAddressListReq&#123;</span></span><br><span class="line"><span class="deletion">-               Current:  1,</span></span><br><span class="line"><span class="deletion">-               PageSize: 100,</span></span><br><span class="line"><span class="deletion">-               MemberId: in.MemberId,</span></span><br><span class="line"><span class="deletion">-           &#125;)</span></span><br><span class="line"><span class="addition">+           err := l.svcCtx.UmsMemberReceiveAddressModel.CancelDefaultAddressByMemberId(l.ctx, in.MemberId)</span></span><br><span class="line"> </span><br><span class="line"><span class="deletion">-           for _, address := range *memberList &#123;</span></span><br><span class="line"><span class="deletion">-               //åˆ¤æ–­æ˜¯å¦ä¸ºé»˜è®¤,å¦‚æœæ˜¯,åˆ™ä¿®æ”¹</span></span><br><span class="line"><span class="deletion">-               if address.DefaultStatus == 1 &#123;</span></span><br><span class="line"><span class="deletion">-                   address.DefaultStatus = 0</span></span><br><span class="line"><span class="deletion">-                   _ = l.svcCtx.UmsMemberReceiveAddressModel.Update(l.ctx, &amp;address)</span></span><br><span class="line"><span class="deletion">-               &#125;</span></span><br><span class="line"><span class="addition">+           if err != nil &#123;</span></span><br><span class="line"><span class="addition">+               return nil, err </span></span><br><span class="line"><span class="addition">+           &#125;</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>ä¿®æ”¹åç«¯æ¥å£å®ç°ï¼ˆæ–°å¢æ”¶è´§åœ°å€å’Œä¿®æ”¹æ”¶è´§åœ°å€ï¼‰ï¼›<br>è¿™ä¸ªæ¥å£ä»…åœ¨éœ€è¦è®¾ç½®é»˜è®¤åœ°å€æ—¶ï¼Œæ‰ä¼šè°ƒç”¨æ¸…é™¤åŸé»˜è®¤åœ°å€çš„æ“ä½œã€‚</p>
<h4 id="é¡µé¢æ”¹é€ "><a href="#é¡µé¢æ”¹é€ " class="headerlink" title="é¡µé¢æ”¹é€ "></a>é¡µé¢æ”¹é€ </h4><p>ç›®å‰é¡µé¢åªå…·å¤‡å±•ç¤ºä¿¡æ¯çš„åŠŸèƒ½ï¼Œè¡¨å•æ•°æ®ä¸èƒ½è¿›è¡Œä¿®æ”¹ï¼Œå¯¹åº”æŒ‰é’®æ²¡æœ‰è°ƒç”¨åç«¯æ¥å£ã€‚</p>
<img src="/img/posts/studys-zero-mall/03-02-image-detail.png" width = "40%" height = "40%" alt="è¯¦æƒ…æ”¹é€ å‰"/>


<h5 id="è¡¨å•æ–‡æœ¬é¡¹"><a href="#è¡¨å•æ–‡æœ¬é¡¹" class="headerlink" title="è¡¨å•æ–‡æœ¬é¡¹"></a>è¡¨å•æ–‡æœ¬é¡¹</h5><p>è¡¨å•ä¸­çš„æ–‡å­—ï¼Œç›®å‰ä½¿ç”¨Textå±•ç¤ºï¼Œè€ŒTextæ²¡æœ‰æ–‡æœ¬æ¡†åŠŸèƒ½</p>
<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Text</span>(<span class="string">&quot;æˆ‘æ˜¯ä¸€æ®µæ™®é€šæ–‡æœ¬&quot;</span>);</span><br><span class="line"></span><br><span class="line">_name.<span class="property">text</span> = <span class="string">&quot;æˆ‘æ˜¯ä¸€ä¸ªæ–‡æœ¬æ¡†&quot;</span></span><br><span class="line"><span class="title class_">TextField</span>(</span><br><span class="line">  <span class="attr">controller</span>: _name</span><br><span class="line">  <span class="attr">onChanged</span>: (text) &#123;</span><br><span class="line">    <span class="title function_">setState</span>(() &#123;</span><br><span class="line">      _name.<span class="property">text</span> = text;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">inputFormatters</span>: [</span><br><span class="line">    <span class="title class_">LengthLimitingTextInputFormatter</span>(<span class="number">20</span>),</span><br><span class="line">  ],</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">_name.<span class="property">text</span> = <span class="string">&quot;æˆ‘æ˜¯ä¸€ä¸ªè¡¨å•é¡¹&quot;</span></span><br><span class="line"><span class="title class_">TextFormField</span>(</span><br><span class="line">  <span class="attr">validator</span>: <span class="function">(<span class="params">value</span>) =&gt;</span> (value == <span class="literal">null</span> || value.<span class="property">isEmpty</span>) ? <span class="string">&quot;ä¸èƒ½ä¸ºç©º&quot;</span> : <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">inputFormatters</span>: [</span><br><span class="line">    <span class="title class_">LengthLimitingTextInputFormatter</span>(<span class="number">10</span>),</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">controller</span>: _name,</span><br><span class="line">  <span class="attr">onChanged</span>: (text) &#123;</span><br><span class="line">    <span class="title function_">setState</span>(() &#123;</span><br><span class="line">      _name.<span class="property">text</span> = text;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">style</span>: textStyle),</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>Text</strong>å°éƒ¨ä»¶åªæ”¯æŒæ˜¾ç¤ºæ–‡å­—åŠŸèƒ½ã€‚</li>
<li><strong>TextField</strong>å…è®¸ç”¨æˆ·è¾“å…¥æˆ–æ›´æ”¹æ–‡å­—ä¿¡æ¯ã€‚</li>
<li><strong>TextFormField</strong>æäº¤è¡¨å•æ—¶ä¼šæ ¡éªŒæç¤ºä¿¡æ¯æ˜¯å¦æ­£ç¡®ï¼Œ</li>
<li><strong>controller</strong>å‚æ•°æ¥æ”¶ä¸€ä¸ªå¯¹è±¡ï¼Œç®¡ç†æ–‡æœ¬</li>
<li><strong>onChanged</strong>å½“æ–‡æœ¬æ”¹å˜æ—¶ï¼Œè°ƒç”¨è¿™ä¸ªæ–¹æ³•</li>
<li><strong>setState</strong>è¯¥å‡½æ•°è¢«è°ƒç”¨åä¼šé‡æ–°æ¸²æŸ“é¡µé¢</li>
<li><strong>validator</strong>è®¾ç½®è¡¨å•æ ¡éªŒå‡½æ•°ï¼Œè¿”å›å€¼æ˜¯é”™è¯¯æç¤ºï¼Œæ ¡éªŒæˆåŠŸæ—¶è¿”å›<strong>null</strong></li>
</ul>
<h5 id="è®¾ç½®è¡¨å•"><a href="#è®¾ç½®è¡¨å•" class="headerlink" title="è®¾ç½®è¡¨å•"></a>è®¾ç½®è¡¨å•</h5><p><strong>TextField</strong>éœ€è¦è¢«<strong>Form</strong>å°éƒ¨ä»¶åŒ…è£¹ã€‚<br>ä¸º<strong>Form</strong>æŒ‡å®šä¸€ä¸ªkey</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_AddressAddState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">AddressAdd</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">final</span> _formKey = GlobalKey&lt;FormState&gt;();</span><br><span class="line">  <span class="comment">// ...å…¶ä»–ä»£ç </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æŒ‡å®šFormå°éƒ¨ä»¶çš„key</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Form(</span><br><span class="line">  key: _formKey,</span><br><span class="line">  child: (...)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h5 id="è¡¨å•æäº¤"><a href="#è¡¨å•æäº¤" class="headerlink" title="è¡¨å•æäº¤"></a>è¡¨å•æäº¤</h5><p>ä¸ºæŒ‰é’®æ³¨å†Œå›è°ƒå‡½æ•°</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">onTap: () <span class="keyword">async</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (_formKey.currentState!.validate()) &#123;</span><br><span class="line">    <span class="keyword">final</span> url = ... ;</span><br><span class="line">    <span class="keyword">var</span> data = &#123; ... &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">await</span> HttpUtil.post(url, data: data);</span><br><span class="line">      <span class="keyword">if</span> (!context.mounted) <span class="keyword">return</span>;</span><br><span class="line">      Navigator.of(context).pop(&#123;<span class="string">&#x27;success&#x27;</span>: <span class="keyword">true</span>&#125;);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">&quot;å¤±è´¥:<span class="subst">$&#123;e&#125;</span>&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<ul>
<li><code>_formKey.currentState!.validate()</code>è¿”å›Formä¸­æ‰€æœ‰TextFromFieldçš„æ ¡éªŒç»“æœï¼Œæ ¡éªŒé€šè¿‡åå‘é€<strong>åç«¯è¯·æ±‚</strong>ï¼Œå¦åˆ™å±•ç¤ºé”™è¯¯ä¿¡æ¯</li>
</ul>
<h5 id="è·¨é¡µé¢ä¼ å€¼"><a href="#è·¨é¡µé¢ä¼ å€¼" class="headerlink" title="è·¨é¡µé¢ä¼ å€¼"></a>è·¨é¡µé¢ä¼ å€¼</h5><h6 id="é™æ€è·¯ç”±ä¼ å€¼åˆ°å­é¡µé¢"><a href="#é™æ€è·¯ç”±ä¼ å€¼åˆ°å­é¡µé¢" class="headerlink" title="é™æ€è·¯ç”±ä¼ å€¼åˆ°å­é¡µé¢"></a>é™æ€è·¯ç”±ä¼ å€¼åˆ°å­é¡µé¢</h6><p>é€šè¿‡é™æ€è·¯ç”±ä¼ å€¼ï¼Œå°†åˆ—è¡¨ä¸­çš„åœ°å€ä¿¡æ¯èµ‹å€¼ç»™<strong>data</strong>ä¼ å…¥<strong>AddressAdd</strong>å°éƒ¨ä»¶çš„æ„é€ å‡½æ•°</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Navigator.of(context).push(</span><br><span class="line">  MaterialPageRoute(</span><br><span class="line">    builder: (context) =&gt;</span><br><span class="line">      AddressAdd(data: data),</span><br><span class="line">  ),</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h6 id="æœ‰çŠ¶æ€ç»„ä»¶ä¼ å€¼"><a href="#æœ‰çŠ¶æ€ç»„ä»¶ä¼ å€¼" class="headerlink" title="æœ‰çŠ¶æ€ç»„ä»¶ä¼ å€¼"></a>æœ‰çŠ¶æ€ç»„ä»¶ä¼ å€¼</h6><p>å…ˆå°†<strong>data</strong>ä¿å­˜åˆ°<code>StatefulWidget</code>çš„æˆå‘˜å˜é‡ä¸­</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AddressAdd</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">final</span> AddressListData? data;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> AddressAdd(&#123;<span class="keyword">super</span>.key, <span class="keyword">this</span>.data&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;AddressAdd&gt; createState() =&gt; _AddressAddState();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="åˆå§‹åŒ–ç»„ä»¶çŠ¶æ€"><a href="#åˆå§‹åŒ–ç»„ä»¶çŠ¶æ€" class="headerlink" title="åˆå§‹åŒ–ç»„ä»¶çŠ¶æ€"></a>åˆå§‹åŒ–ç»„ä»¶çŠ¶æ€</h6><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_AddressAddState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">AddressAdd</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">late</span> <span class="built_in">int</span> _defaultStatus;</span><br><span class="line">  <span class="keyword">late</span> <span class="built_in">bool</span> _create;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">int?</span> _id;</span><br><span class="line">  <span class="keyword">final</span> _name = TextEditingController();</span><br><span class="line">  <span class="keyword">final</span> _phoneNumber = TextEditingController();</span><br><span class="line">  <span class="keyword">final</span> _postCode = TextEditingController();</span><br><span class="line">  <span class="keyword">final</span> _province = TextEditingController();</span><br><span class="line">  <span class="keyword">final</span> _city = TextEditingController();</span><br><span class="line">  <span class="keyword">final</span> _region = TextEditingController();</span><br><span class="line">  <span class="keyword">final</span> _detailAddress = TextEditingController();</span><br><span class="line">  <span class="keyword">final</span> _formKey = GlobalKey&lt;FormState&gt;();</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> initState() &#123;</span><br><span class="line">    <span class="keyword">super</span>.initState();</span><br><span class="line">    <span class="keyword">final</span> data = widget.data;</span><br><span class="line">    _create = data?.id == <span class="keyword">null</span>;</span><br><span class="line">    _id = data?.id;</span><br><span class="line">    _name.text = data?.name ?? <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    _phoneNumber.text = data?.phoneNumber ?? <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    _defaultStatus = data?.defaultStatus ?? <span class="number">0</span>;</span><br><span class="line">    _postCode.text = data?.postCode ?? <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    _province.text = data?.province ?? <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    _city.text = data?.city ?? <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    _region.text = data?.region ?? <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    _detailAddress.text = data?.detailAddress ?? <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//...å…¶ä»–ä»£ç </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨<strong>initState</strong>æ–¹æ³•ä¸­å¯ä»¥é€šè¿‡æˆå‘˜å˜é‡<strong>widget</strong>è®¿é—®å¯¹åº”çš„<strong>StatefulWidget</strong>,é€šè¿‡<strong>widget.data</strong>è®¿é—®ä¼ å…¥å­é¡µé¢çš„æ”¶è´§åœ°å€æ•°æ®ã€‚</p>
<ul>
<li><strong>_defaultStatus</strong>: è®°å½•æ˜¯å¦ä¸ºé»˜è®¤æ”¶è´§åœ°å€ï¼Œæ–°å¢é¡µé¢ä¸º0</li>
<li><strong>_id</strong>: è®°å½•çš„å”¯ä¸€ç´¢å¼•ï¼Œé€šè¿‡æ•°æ®åº“è‡ªå¢ç´¢å¼•è·å–ï¼Œæ–°å¢é¡µé¢æ— æ­¤é¡¹</li>
<li><strong>_create</strong>: è®°å½•æ˜¯æ–°å»ºé¡µé¢è¿˜æ˜¯ä¿®æ”¹é¡µé¢ï¼Œé€šè¿‡**_id**æ˜¯å¦æœ‰å€¼åˆ¤æ–­</li>
</ul>
<h5 id="æ ‡é¢˜åŠåˆ é™¤æŒ‰é’®"><a href="#æ ‡é¢˜åŠåˆ é™¤æŒ‰é’®" class="headerlink" title="æ ‡é¢˜åŠåˆ é™¤æŒ‰é’®"></a>æ ‡é¢˜åŠåˆ é™¤æŒ‰é’®</h5><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">appBar: AppBar(</span><br><span class="line">  backgroundColor: Colors.white,</span><br><span class="line">  title: Text(_create ? <span class="string">&quot;æ–°å¢æ”¶è´§åœ°å€&quot;</span> : <span class="string">&quot;ä¿®æ”¹æ”¶è´§åœ°å€&quot;</span>,</span><br><span class="line">      style: <span class="keyword">const</span> TextStyle(fontSize: <span class="number">16</span>, color: Colors.black)),</span><br><span class="line">  centerTitle: <span class="keyword">true</span>,</span><br><span class="line">  actions: [ </span><br><span class="line">    <span class="keyword">if</span> (!_create)</span><br><span class="line">      IconButton(</span><br><span class="line">        icon: <span class="keyword">const</span> Icon(Icons.delete),</span><br><span class="line">        onPressed: () <span class="keyword">async</span> &#123;</span><br><span class="line">          <span class="comment">// ...</span></span><br><span class="line">        &#125;,</span><br><span class="line">      ),</span><br><span class="line">  ],</span><br><span class="line">),</span><br></pre></td></tr></table></figure>

<h5 id="æ›¿æ¢é¢œè‰²ä»£ç "><a href="#æ›¿æ¢é¢œè‰²ä»£ç " class="headerlink" title="æ›¿æ¢é¢œè‰²ä»£ç "></a>æ›¿æ¢é¢œè‰²ä»£ç </h5><p>å°†ä»£ç ä¸­çš„<code>Color(int.parse(&#39;fa436a&#39;, radix: 16)).withAlpha(255)</code><br>æ›¿æ¢ä¸º<code>Color(0xfffa436a)</code><br>ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼š</p>
<ul>
<li>æœç´¢: <code>Color\(int\.parse\(&#39;([^&#39;]+)&#39;, radix: 16\)\)[ \n]+\.withAlpha\((255)\)</code></li>
<li>æ›¿æ¢ä¸º: <code>Color(0xff$1)</code></li>
</ul>
<h5 id="è·¯ç”±è¿”å›"><a href="#è·¯ç”±è¿”å›" class="headerlink" title="è·¯ç”±è¿”å›"></a>è·¯ç”±è¿”å›</h5><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!context.mounted) <span class="keyword">return</span>;</span><br><span class="line">Navigator.of(context).pop();</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡<code>Navigator.of(context).pop()</code>è¿”å›ä¸Šä¸€ä¸ªé¡µé¢<br>ä½¿ç”¨<strong>context</strong>å‰éœ€è¦åˆ¤æ–­<strong>context.mounted</strong>ä¸ºtrue</p>
<h5 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h5><div class="gallery-container" data-type="data" data-button="">
      <div class="gallery-data">[{"url":"/img/posts/studys-zero-mall/03-01-image-list.png","alt":"åˆ—è¡¨æ”¹é€ å‰"},{"url":"/img/posts/studys-zero-mall/03-03-image-list-after.png","alt":"è¯¦æƒ…æ”¹é€ å‰"},{"url":"/img/posts/studys-zero-mall/03-02-image-detail.png","alt":"åˆ—è¡¨æ”¹é€ å"},{"url":"/img/posts/studys-zero-mall/03-04-image-detail-after.png","alt":"è¯¦æƒ…æ”¹é€ å"}]</div>
      <div class="gallery-items">
      </div>
    </div>

<h3 id="æ‰€åœ¨åŒºåŸŸæ”¹é€ "><a href="#æ‰€åœ¨åŒºåŸŸæ”¹é€ " class="headerlink" title="æ‰€åœ¨åŒºåŸŸæ”¹é€ "></a>æ‰€åœ¨åŒºåŸŸæ”¹é€ </h3><h4 id="æ”¹é€ å†…å®¹"><a href="#æ”¹é€ å†…å®¹" class="headerlink" title="æ”¹é€ å†…å®¹"></a>æ”¹é€ å†…å®¹</h4><p>ç›®å‰ä¸ºæ­¢ï¼Œå¡«å†™çœå¸‚å¿çš„æ–¹å¼æ˜¯ç”¨æˆ·æ‰‹åŠ¨è¾“å…¥ï¼Œè¿™å¹¶ä¸åˆç†ã€‚</p>
<h4 id="åº“çš„é€‰æ‹©"><a href="#åº“çš„é€‰æ‹©" class="headerlink" title="åº“çš„é€‰æ‹©"></a>åº“çš„é€‰æ‹©</h4><p>æœ¬æ¥æƒ³ä»¿é€ äº¬ä¸œï¼Œä½†è‹¦äºæ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„åº“ï¼Œå†³å®šè‡ªå·±å†™ã€‚å†™ç€å†™ç€å‘ç°åŸæ¥æœ‰åº“ï¼Œæ˜¯æˆ‘æ‰¾åº“çš„å§¿åŠ¿ä¸å¯¹ã€‚ğŸ˜¥</p>
<p>city_pickersæä¾›ä¸‰ç§æ ·å¼: <a target="_blank" rel="noopener" href="https://pub.dev/packages/city_pickers">https://pub.dev/packages/city_pickers</a><br>flutter_city_pickeræ ·å¼ä»¿ç…§äº¬ä¸œ: <a target="_blank" rel="noopener" href="https://pub.dev/packages/flutter_city_picker">https://pub.dev/packages/flutter_city_picker</a></p>
<p>ä»¥ä¸Šä¸¤ä¸ªåº“çš„æ¥å£è®¾è®¡ï¼Œéƒ½æ˜¯è®©äººè§‰å¾—ç–‘æƒ‘ã€‚<br>æœ€ç»ˆå†³å®šï¼Œè‡ªå·±å†™æ•°æ®æ¥å£çš„éƒ¨åˆ†ï¼Œæ ·å¼æ‹¿flutter_city_pickerçš„æ¥ç”¨ã€‚</p>
<h4 id="æ¥å£è®¾è®¡"><a href="#æ¥å£è®¾è®¡" class="headerlink" title="æ¥å£è®¾è®¡"></a>æ¥å£è®¾è®¡</h4><h5 id="å‘½å"><a href="#å‘½å" class="headerlink" title="å‘½å"></a>å‘½å</h5><p>â€œæ‰€åœ¨åŒºåŸŸâ€è¿™ä¸ªè¡¨å•é¡¹çš„æœ¬è´¨æ˜¯è·çŸ¥æ”¶è´§åœ°å€å±äºå“ªä¸ªåŒºåŸŸã€‚<br>å› æ­¤å†³å®šå‘½åä¸º<strong>PostalPicker</strong>ï¼Œæ„ä¸ºâ€œé‚®é€’åŒºåŸŸé€‰æ‹©å™¨â€;</p>
<h5 id="è­¦å‘Š"><a href="#è­¦å‘Š" class="headerlink" title="è­¦å‘Š"></a>è­¦å‘Š</h5><div class="note danger simple"><p>è¿™éƒ¨åˆ†è®¾è®¡åªæ˜¯æˆ‘è®¾æƒ³ä¸­çš„æ¥å£åº”è¯¥é•¿ä»€ä¹ˆæ ·å­<br>ä»…è¿›è¡Œäº†ç²—ç³™çš„è®¾è®¡ï¼Œæ²¡æœ‰ç»è¿‡éªŒè¯ï¼Œä¸åº”è¯¥ç”¨äºå®é™…äº§å“ğŸ±</p>
</div>

<h5 id="é‡‡ç”¨æ•°æ®é©±åŠ¨æ–¹å¼"><a href="#é‡‡ç”¨æ•°æ®é©±åŠ¨æ–¹å¼" class="headerlink" title="é‡‡ç”¨æ•°æ®é©±åŠ¨æ–¹å¼"></a>é‡‡ç”¨æ•°æ®é©±åŠ¨æ–¹å¼</h5><p>æ¥å£é‡‡ç”¨æ•°æ®é©±åŠ¨çš„æ–¹å¼ï¼Œå¤§è‡´åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼š</p>
<ul>
<li>Tables(DataSource): ä½¿ç”¨ç®€å•çš„æ¨¡å‹æ¥å­˜å‚¨å’Œä½¿ç”¨åŸå§‹æ•°æ®ï¼Œå…¶ä»–åŸå§‹æ•°æ®æ ¼å¼ç»Ÿä¸€è½¬æ¢ä¸ºè¿™ç§æ¨¡å‹ï¼›</li>
<li>Page(Model): é¡µé¢ç»Ÿä¸€ä½¿ç”¨çš„æ•°æ®æŠ½è±¡æ¨¡å‹ï¼›</li>
<li>Widget(View): é¡µé¢å¸ƒå±€ï¼›</li>
</ul>
<h5 id="ç›®å½•ç»“æ„åŠå…¶ç”¨å¤„"><a href="#ç›®å½•ç»“æ„åŠå…¶ç”¨å¤„" class="headerlink" title="ç›®å½•ç»“æ„åŠå…¶ç”¨å¤„"></a>ç›®å½•ç»“æ„åŠå…¶ç”¨å¤„</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">postal_picker/</span><br><span class="line">â”œâ”€â”€ meta</span><br><span class="line">â”‚Â Â  â””â”€â”€ static_data.dart   StaticData, ä¿å­˜åœ¨Appä¸­çš„é»˜è®¤é™æ€æ•°æ®ã€‚</span><br><span class="line">â”œâ”€â”€ model</span><br><span class="line">â”‚Â Â  â””â”€â”€ page.dart          Pageï¼ŒWidgetæ‰€ä½¿ç”¨çš„ç»Ÿä¸€æ•°æ®æŠ½è±¡æ¨¡å‹ï¼›</span><br><span class="line">â”œâ”€â”€ postal_picker.dart     Pickerï¼Œç”¨äºå¼¹å‡ºé€‰æ‹©å™¨çª—å£</span><br><span class="line">â”œâ”€â”€ table</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ table_node.dart    Nodeè¡¨ï¼Œå†³å®šé‚®é€’åŒºåŸŸä¹‹é—´çš„å…³ç³»</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ table_postal.dart  Postalè¡¨ï¼Œå®šä¹‰é‚®é€’åŒºåŸŸ</span><br><span class="line">â”‚Â Â  â””â”€â”€ tables.dart        tablesï¼Œå­˜å‚¨æ‰€æœ‰Nodeè¡¨å’ŒPostalè¡¨çš„å¯¹è±¡</span><br><span class="line">â””â”€â”€ view</span><br><span class="line">    â”œâ”€â”€ postal_list_widget.dart      é‚®é€’åŒºåŸŸé€‰æ‹©åˆ—è¡¨</span><br><span class="line">    â”œâ”€â”€ postal_picker_widget.dart    é€‰æ‹©å™¨çš„Widget</span><br><span class="line">    â””â”€â”€ third_listview_section.dart  ç”¨äºé‚®é€’åŒºåŸŸé€‰æ‹©åˆ—è¡¨çš„ç¬¬ä¸‰æ–¹ListViewå®ç°</span><br></pre></td></tr></table></figure>

<h4 id="è¡¨åŠæ•°æ®"><a href="#è¡¨åŠæ•°æ®" class="headerlink" title="è¡¨åŠæ•°æ®"></a>è¡¨åŠæ•°æ®</h4><h5 id="Node-Table"><a href="#Node-Table" class="headerlink" title="Node Table"></a>Node Table</h5><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// <span class="language-markdown">ç”¨äºæè¿°postalCodeçš„å…³ç³»</span></span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">  <span class="comment">/// <span class="language-markdown">å½“å‰èŠ‚ç‚¹id</span></span></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">int</span> id;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">çˆ¶èŠ‚ç‚¹id</span></span></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">int</span> prevId;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">å½“å‰èŠ‚ç‚¹çº§åˆ«</span></span></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">int</span> lvl;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">é‚®é€’åŒºå·</span></span></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String</span> postalCode;</span><br><span class="line"></span><br><span class="line">  Node(<span class="keyword">this</span>.id, <span class="keyword">this</span>.prevId, <span class="keyword">this</span>.lvl, <span class="keyword">this</span>.postalCode);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">get</span> isEmpty &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span> == emptyNode;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">get</span> isNotEmpty &#123;</span><br><span class="line">    <span class="keyword">return</span> !isEmpty;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">final</span> emptyNode = Node(-<span class="number">1</span>, -<span class="number">1</span>, -<span class="number">1</span>, <span class="string">&quot;EmptyPostal&quot;</span>);</span><br><span class="line"><span class="keyword">final</span> rootNode = Node(-<span class="number">2</span>, -<span class="number">1</span>, <span class="number">0</span>, <span class="string">&quot;RootPostal&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>Nodeè¡¨ è¢«è®¤ä¸ºæ˜¯ç”¨æ¥æè¿°PostalCodeæ ‘å½¢å…³ç³»çš„è¡¨</p>
<h5 id="Postal-Table"><a href="#Postal-Table" class="headerlink" title="Postal Table"></a>Postal Table</h5><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// <span class="language-markdown">é‚®é€’åŒºåŸŸ</span></span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Postal</span> </span>&#123;</span><br><span class="line">  <span class="comment">/// <span class="language-markdown">è¯¥é‚®é€’åŒºåŸŸçš„é‚®é€’åŒºå·</span></span></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String</span> postalCode;</span><br><span class="line">  <span class="comment">/// <span class="language-markdown">è¯¥é‚®é€’åŒºåŸŸçš„åå­—</span></span></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String</span> name;</span><br><span class="line">  <span class="comment">/// <span class="language-markdown">è¯¥é‚®é€’åŒºåŸŸåå­—çš„æ‹¼éŸ³é¦–å­—æ¯</span></span></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String</span> firstLetter;</span><br><span class="line"></span><br><span class="line">  Postal(</span><br><span class="line">      &#123;<span class="keyword">required</span> <span class="keyword">this</span>.postalCode,</span><br><span class="line">      <span class="keyword">required</span> <span class="keyword">this</span>.name,</span><br><span class="line">      <span class="keyword">required</span> <span class="keyword">this</span>.firstLetter&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">bool</span> <span class="keyword">get</span> isEmpty &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span> == emptyPostal;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">bool</span> <span class="keyword">get</span> isNotEmpty &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span> != emptyPostal;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">final</span> emptyPostal = Postal(</span><br><span class="line">  postalCode: <span class="string">&quot;EmptyPostal&quot;</span>,</span><br><span class="line">  name: <span class="string">&quot;å¾…é€‰æ‹©&quot;</span>,</span><br><span class="line">  firstLetter: <span class="string">&quot;-&quot;</span>,</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">final</span> rootPostal = Postal(</span><br><span class="line">  postalCode: <span class="string">&quot;RootPostal&quot;</span>,</span><br><span class="line">  name: <span class="string">&quot;æ ¹èŠ‚ç‚¹&quot;</span>,</span><br><span class="line">  firstLetter: <span class="string">&quot;-&quot;</span>,</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>Postalè¡¨ è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªåŒ…å«å‡ ä¸ªç®€å•å­—æ®µç”¨æ¥æè¿°é‚®é€’åŒºåŸŸçš„è¡¨<br>æ³¨æ„ï¼Œé»˜è®¤ä½¿ç”¨çš„<code>postalCode</code>ä¸æ˜¯ä¸­å›½é‚®æ”¿ç³»ç»Ÿä¸­æ‰€ä½¿ç”¨çš„â€é‚®æ”¿ç¼–ç ï¼ˆPostal Codeï¼‰â€ï¼Œè€Œæ˜¯ä¸­å›½åœ°åŒºç¼–ç </p>
<h5 id="Tables"><a href="#Tables" class="headerlink" title="Tables"></a>Tables</h5><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tables</span> </span>&#123;</span><br><span class="line">  <span class="comment">/// <span class="language-markdown">èŠ‚ç‚¹è¡¨ &amp; idç´¢å¼•</span></span></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">åº”è¯¥å°†å…¶è§†ä¸º<span class="code">`Node[]`</span>, å¹¶ä¸”<span class="code">`Node[]`</span>é™„å¸¦ä¸€ä¸ª<span class="code">`id`</span>ç´¢å¼•</span></span></span><br><span class="line">  <span class="built_in">Map</span>&lt;<span class="built_in">int</span>, Node&gt; nodes = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">é‚®é€’åŒºåŸŸè¡¨ &amp; é‚®é€’åŒºåŸŸé‚®é€’åŒºå·ç´¢å¼•</span></span></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">åº”è¯¥å°†å…¶è§†ä¸º<span class="code">`Postal[]`</span>, å¹¶ä¸”<span class="code">`Postal[]`</span>é™„å¸¦ä¸€ä¸ª<span class="code">`postalCode`</span>ç´¢å¼•</span></span></span><br><span class="line">  <span class="built_in">Map</span>&lt;<span class="built_in">String</span>, Postal&gt; postalList = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">é€šè¿‡é‚®é€’åŒºå·å¿«é€Ÿæœç´¢èŠ‚ç‚¹</span></span></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">Map</span>&lt;<span class="built_in">String</span>, Node&gt; cachedNodes = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">  Tables();</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">è·å–é‚®é€’åŒºåŸŸåœ¨è¡¨ä¸­çš„èŠ‚ç‚¹</span></span></span><br><span class="line">  Node getNodeByPostalCode(<span class="built_in">String</span> postalCode) &#123; ... &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">è·å–é‚®é€’åŒºåŸŸçš„å­åŒºåŸŸåˆ—è¡¨</span></span></span><br><span class="line">  <span class="built_in">List</span>&lt;Postal&gt; getPostalListByPostalCode(<span class="built_in">String</span> postalCode) &#123; ... &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">è·å–é‚®é€’åŒºå·å¯¹åº”çš„é‚®é€’åŒºåŸŸ</span></span></span><br><span class="line">  Postal? getPostalByPostalCode(<span class="built_in">String</span> postalCode) &#123; ... &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">ä¸Šä¸€ä¸ªnode</span></span></span><br><span class="line">  Node getFatherNode(Node node) &#123; ... &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/// <span class="language-markdown">è¿”å›é™æ€æ•°æ®ä½œä¸ºTables</span></span></span><br><span class="line">Tables defaultTables() &#123; ... &#125;</span><br></pre></td></tr></table></figure>
<p>Tableså¯¹è±¡ï¼Œå°†Nodeå’ŒPostalè¡¨æ•°æ®å­˜æ”¾åˆ°è¿™ä¸ªå¯¹è±¡ä¸­ï¼Œæä¾›ä¸€äº›è®¿é—®æ•°æ®çš„æ–¹æ³•ï¼›<br>æœ¬è´¨ä¸Šæ¥è¯´æä¾›Tablesæä¾›è®¿é—®Node[]å’ŒPostal[]çš„èƒ½åŠ›ã€‚</p>
<h4 id="Pageå¯¹è±¡"><a href="#Pageå¯¹è±¡" class="headerlink" title="Pageå¯¹è±¡"></a>Pageå¯¹è±¡</h4><h5 id="ç±»å®šä¹‰"><a href="#ç±»å®šä¹‰" class="headerlink" title="ç±»å®šä¹‰"></a>ç±»å®šä¹‰</h5><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// <span class="language-markdown">é¡µé¢æ•°æ®</span></span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Page</span> </span>&#123;</span><br><span class="line">  <span class="comment">/// <span class="language-markdown">å­˜æ”¾ç€æ‰€æœ‰é‚®é€’åŒºåŸŸç›¸å…³çš„æ•°æ®</span></span></span><br><span class="line">  <span class="keyword">final</span> Tables tables;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">æœ€å¤šå‡ çº§è§„åˆ’ã€‚ã€çœå¸‚å¿ä¹¡ï¼Œåˆ™4çº§ï¼›å¦‚æœå·²ç»ç¡®å®šçœä»½ï¼Œé€‰æ‹©å¸‚å¿ä¹¡ï¼Œåˆ™3çº§ï¼›ã€‘</span></span></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">int</span> numberOfTabs;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">æœ€é«˜çº§åˆ«</span></span></span><br><span class="line">  <span class="built_in">int</span> <span class="keyword">get</span> maxLevel &#123;</span><br><span class="line">    <span class="keyword">return</span> numberOfTabs + <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">ç¬¬nçº§é€‰æ‹©çš„é‚®é€’åŒºåŸŸå¯¹åº”çš„å­é›†åˆåŒºåŸŸã€0ï¼šæ ¹ç›®å½•ä¸‹çš„é€‰é¡¹ï¼Œ1ï¼šå¹¿ä¸œçœä¸‹çš„é€‰é¡¹ï¼Œ2ï¼šæ·±åœ³å¸‚ä¸‹çš„é€‰é¡¹ï¼Œ3ï¼šç¦ç”°åŒºä¸‹çš„é€‰é¡¹ï¼Œ4:ç¦ç”°è¡—é“ä¸‹é¢çš„é€‰é¡¹(æ— æ³•é€‰æ‹©)ã€‘</span></span></span><br><span class="line">  <span class="built_in">List</span>&lt;<span class="built_in">List</span>&lt;Postal&gt;&gt; activityList = [];</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">ç¬¬nçº§é€‰æ‹©çš„é‚®é€’åŒºåŸŸã€0ï¼šæ ¹èŠ‚ç‚¹ï¼Œ1ï¼šå¹¿ä¸œçœï¼Œ2ï¼šæ·±åœ³å¸‚ï¼Œ3ï¼šç¦ç”°åŒºï¼Œ4ï¼šç¦ç”°è¡—é“ã€‘</span></span></span><br><span class="line">  <span class="built_in">List</span>&lt;Postal&gt; selectiveList = [];</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">æäº¤é¡µé¢çš„å›è°ƒå‡½æ•° callback(this)</span></span></span><br><span class="line">  <span class="keyword">void</span> <span class="built_in">Function</span>(Page page) callback;</span><br><span class="line"></span><br><span class="line">  Page(</span><br><span class="line">      &#123;<span class="keyword">required</span> <span class="keyword">this</span>.tables,</span><br><span class="line">      <span class="keyword">required</span> <span class="keyword">this</span>.numberOfTabs,</span><br><span class="line">      <span class="keyword">required</span> <span class="keyword">this</span>.callback&#125;) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; maxLevel + <span class="number">1</span>; i++) &#123;</span><br><span class="line">      selectiveList.add(emptyPostal);</span><br><span class="line">      activityList.add([]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">é€‰æ‹©æŸä¸ªé‚®é€’åŒºåŸŸï¼Œå¹¶æŸ¥æ‰¾è¯¥é‚®é€’åŒºåŸŸçš„å­èŠ‚ç‚¹</span></span></span><br><span class="line">  <span class="built_in">bool</span> pick(Postal postal) &#123; ... &#125;</span><br><span class="line">  <span class="comment">/// <span class="language-markdown">å¯é€‰tabçš„æ•°é‡</span></span></span><br><span class="line">  <span class="built_in">int</span> <span class="keyword">get</span> numberOfTabsIfOptional &#123; ... &#125;</span><br><span class="line">  <span class="comment">/// <span class="language-markdown">è·å–æ‰€æœ‰tabçš„æ ‡é¢˜</span></span></span><br><span class="line">  <span class="built_in">Iterable</span>&lt;(<span class="built_in">int</span>, <span class="built_in">String</span>)&gt; <span class="keyword">get</span> tabTitles &#123; ... &#125;</span><br><span class="line">  <span class="comment">/// <span class="language-markdown">è·å–æ‰€æœ‰tabçš„å·²é€‰é¡¹å’Œå¤‡é€‰åˆ—è¡¨</span></span></span><br><span class="line">  <span class="built_in">Iterable</span>&lt;(<span class="built_in">int</span>, Postal, <span class="built_in">List</span>&lt;Postal&gt;)&gt; <span class="keyword">get</span> tabOptions &#123; ... &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="Pick-Postal-é€‰æ‹©é‚®é€’åŒºåŸŸ"><a href="#Pick-Postal-é€‰æ‹©é‚®é€’åŒºåŸŸ" class="headerlink" title="Pick Postal é€‰æ‹©é‚®é€’åŒºåŸŸ"></a>Pick Postal é€‰æ‹©é‚®é€’åŒºåŸŸ</h5><p>å½“ç”¨æˆ·åœ¨é¡µé¢ç§é€‰æ‹©æŸä¸ªåŒºåŸŸæ—¶ï¼Œpickæ–¹æ³•<code>bool pick(Postal postal)</code>å°†è¢«è°ƒç”¨ï¼›<br>å¦‚ç”¨æˆ·é€‰æ‹©æ·±åœ³å¸‚440300æ—¶ï¼ˆ440300æ˜¯æ·±åœ³å¸‚çš„åœ°åŒºç¼–å·ï¼‰ï¼Œé¡µé¢ä¼šè°ƒç”¨<code>Page.pick(æ·±åœ³å¸‚)</code>ï¼Œæ­¤æ—¶Pageä¼šç›¸åº”çš„æ›´æ–°æˆå‘˜å˜é‡<em>activityList</em>å’Œ<em>selectiveList</em>ä¸ºä»¥ä¸‹å€¼ï¼š</p>
<ul>
<li><em>selectiveList</em> [ å…¨å›½æ ¹èŠ‚ç‚¹, å¹¿ä¸œçœ, æ·±åœ³å¸‚, æœªé€‰æ‹©çš„èŠ‚ç‚¹(åŒºçº§), æœªé€‰æ‹©çš„èŠ‚ç‚¹(è¡—é“çº§) ]</li>
<li><em>activityList</em> [ 34ä¸ªçœä»½, 21ä¸ªå¹¿ä¸œçœçš„åœ°çº§å¸‚, 9ä¸ªæ·±åœ³å¸‚çš„å¸‚è¾–åŒº, ç©º(nä¸ªè¡—é“ï¼Œæœªé€‰æ‹©åŒºçº§æ—¶ä¸ºç©º), ç©º(è¡—é“ä¸‹é¢æ— è§„åˆ’ï¼Œæ’ä¸ºç©º) ]</li>
</ul>
<p>è€ŒWidgetåªéœ€è¦è´Ÿè´£æ ¹æ®<em>selectiveList</em>ï¼Œ<em>activityList</em>ç»˜åˆ¶ç”»é¢ã€‚</p>
<h4 id="ä½¿ç”¨Pageæ•°æ®"><a href="#ä½¿ç”¨Pageæ•°æ®" class="headerlink" title="ä½¿ç”¨Pageæ•°æ®"></a>ä½¿ç”¨Pageæ•°æ®</h4><p>è°ƒç”¨æ–¹è®¾ç½®Pageæ—¶ï¼Œä¼šä¼ é€’ä¸€ä¸ª<code>callback(Page page)</code>ï¼Œå›è°ƒå‡½æ•°ä¸­ä½¿ç”¨<em>selectiveList</em>ä¸­çš„æ•°æ®å³å¯</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> page = postal_page.Page(</span><br><span class="line">  tables: tables,</span><br><span class="line">  numberOfTabs: <span class="number">4</span>,</span><br><span class="line">  callback: (page) =&gt; &#123;</span><br><span class="line">    setState(() &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">        <span class="comment">// for 1..=4</span></span><br><span class="line">        <span class="keyword">final</span> pageIndex = i + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">final</span> postal = page.selectiveList[pageIndex];</span><br><span class="line">        postalList[i] = postal.isNotEmpty ? postal.name : <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">        <span class="keyword">if</span> (postal.isNotEmpty) &#123;</span><br><span class="line">          _postalCode = postal.postalCode;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      _postalRegion.text = _postalRegionDesc;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h4 id="å­—æ¯ç´¢å¼•çš„åˆ†ç»„å’Œæ’åº"><a href="#å­—æ¯ç´¢å¼•çš„åˆ†ç»„å’Œæ’åº" class="headerlink" title="å­—æ¯ç´¢å¼•çš„åˆ†ç»„å’Œæ’åº"></a>å­—æ¯ç´¢å¼•çš„åˆ†ç»„å’Œæ’åº</h4><h5 id="åŸºæœ¬æ€è·¯"><a href="#åŸºæœ¬æ€è·¯" class="headerlink" title="åŸºæœ¬æ€è·¯"></a>åŸºæœ¬æ€è·¯</h5><p>ä¸Šé¢æåˆ°<em>activityList</em>ä¸­å­˜æ”¾äº†æ¯ä¸ªTabçš„<code>List&lt;Postal&gt;</code>æ•°æ®ï¼Œè¿™ä¸ªæ•°æ®æ˜¯æœªåˆ†ç»„å’Œæ’åºçš„ï¼›<br><code>pick(Postal postal)</code>æ–¹æ³•ï¼Œä¼šæ ¹æ®<em>tables</em>ä¸­çš„æ•°æ®ï¼Œé‡æ–°è€ƒå¯Ÿé€‰ä¸­çš„<em>Postal</em>ä¸å…¶ä»–<em>Postal</em>çš„å…³ç³»ï¼Œå¹¶æœ€ç»ˆé‡æ–°åˆ·æ–°<em>activityList</em>ï¼Œå› æ­¤ä¸éœ€è¦å¯¹activityList[]ä»¥åŠactivityList[][]è¿›è¡Œæ’åºã€‚æ•°æ®è¿›å…¥é‚®é€’åŒºåŸŸåˆ—è¡¨ç»„ä»¶<em>PostalListWidget</em>æ—¶ï¼Œå†å¯¹å…¶è¿›è¡Œåˆ†ç»„å’Œæ’åºå³å¯ï¼›</p>
<p>ğŸ””<em>PostalListWidget</em>å¯¹åº”éƒ¨åˆ†å¦‚ä¸‹å›¾æ‰€ç¤º</p>
<div class="gallery-container" data-type="data" data-button="">
      <div class="gallery-data">[{"url":"/img/posts/studys-zero-mall/03-07-image-whereis-postallistwidget.png","alt":"æ”¹é€ å"}]</div>
      <div class="gallery-items">
      </div>
    </div>

<h5 id="PostalListWidgetä¸­åˆ†ç»„å’Œæ’åºçš„ä»£ç å®ç°"><a href="#PostalListWidgetä¸­åˆ†ç»„å’Œæ’åºçš„ä»£ç å®ç°" class="headerlink" title="PostalListWidgetä¸­åˆ†ç»„å’Œæ’åºçš„ä»£ç å®ç°"></a>PostalListWidgetä¸­åˆ†ç»„å’Œæ’åºçš„ä»£ç å®ç°</h5><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PostalListWidgetState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">PostalListWidget</span>&gt;</span></span><br><span class="line"><span class="class">    <span class="title">with</span> <span class="title">AutomaticKeepAliveClientMixin</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">é‚®é€’åŒºåŸŸé€‰é¡¹</span></span></span><br><span class="line">  <span class="built_in">List</span>&lt;Postal&gt; _options = [];</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">é‚®é€’åŒºåŸŸé€‰é¡¹é¦–å­—æ¯åˆ†ç»„</span></span></span><br><span class="line">  <span class="built_in">List</span>&lt;_PostalListGroupByFirstLetter&gt; _optionsGroupByFirstLetter = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> _calculateOptionsGroupBy() &#123;</span><br><span class="line">    _options = widget.options ?? [];</span><br><span class="line">    _optionsGroupByFirstLetter = groupBy(_options, (p0) =&gt; p0.firstLetter)</span><br><span class="line">        .entries</span><br><span class="line">        .map((e) =&gt; _PostalListGroupByFirstLetter(</span><br><span class="line">            firstLetter: e.key, postalList: e.value))</span><br><span class="line">        .sorted((a, b) =&gt; a.firstLetter.compareTo(b.firstLetter))</span><br><span class="line">        .toList();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...å…¶ä»–ä»£ç </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>å…¶ä¸­<em>groupBy</em>æ˜¯æ ‡å‡†åº“<code>dart:collection</code>ä¸­çš„æ–¹æ³•;</li>
<li>å®ç°æ­¥éª¤</li>
</ul>
<ol>
<li>é¦–å…ˆå°†<code>activityList[TabIndex]</code>ä¼ é€’ç»™<strong>PostalListWidget</strong>çš„<code>_options</code>å­—æ®µ</li>
<li>ç„¶åæ ¹æ®é¦–å­—æ¯,å¯¹<code>_options</code>è¿›è¡Œåˆ†ç»„å’Œæ’åº,å¹¶å°†ç»“æœèµ‹å€¼ç»™<code>_optionsGroupByFirstLetter</code></li>
<li>ç¬¬ä¸‰æ–¹ç»„ä»¶<em>ExpandableListView</em>è´Ÿè´£å¯¹<code>_optionsGroupByFirstLetter</code>è¿›è¡Œæ¸²æŸ“å¾—åˆ°æƒ³è¦çš„æ•ˆæœ</li>
</ol>
<h4 id="ç‚¹å‡»å­—æ¯åˆ—è¡¨æ»‘åŠ¨"><a href="#ç‚¹å‡»å­—æ¯åˆ—è¡¨æ»‘åŠ¨" class="headerlink" title="ç‚¹å‡»å­—æ¯åˆ—è¡¨æ»‘åŠ¨"></a>ç‚¹å‡»å­—æ¯åˆ—è¡¨æ»‘åŠ¨</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> clickIndexBar(<span class="built_in">int</span> index) &#123;</span><br><span class="line">  <span class="keyword">if</span> (index == <span class="number">0</span>) &#123;</span><br><span class="line">    _scrollController.jumpTo(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">final</span> groupIndex = index;</span><br><span class="line">  <span class="keyword">final</span> itemIndex = _optionsGroupByFirstLetter.sublist(<span class="number">0</span>, index).fold(<span class="number">0</span>,</span><br><span class="line">      (previousValue, element) =&gt; previousValue + element.postalList.length);</span><br><span class="line">  <span class="keyword">final</span> position =</span><br><span class="line">      widget.itemHeadHeight! * groupIndex + widget.itemHeight! * itemIndex;</span><br><span class="line">  _scrollController.jumpTo(position);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç‚¹å‡»å³ä¾§å­—æ¯æ—¶ï¼Œåˆ—è¡¨éœ€è¦å¯¹åº”è¿›è¡Œæ»‘åŠ¨ï¼Œä»¥ä¸Šæ˜¯å®ç°çš„ä»£ç ï¼›<br>ç‚¹å‡»å­—æ¯åï¼Œä»¥ä¸Šæ–¹æ³•å°†è¢«è°ƒç”¨ï¼Œå‚æ•°åˆ—è¡¨ä¸­çš„indexæ˜¯ç¬¬iä¸ªå­—æ¯çš„æ„æ€ï¼›<br>æ¯ä¸ªitemHeadé«˜åº¦æ˜¯itemHeadHeightï¼Œå…±æœ‰groupIndexä¸ªï¼›<br>æ¯ä¸ªItemé«˜åº¦æ˜¯itemHeightï¼Œå…±æœ‰itemIndexä¸ªï¼›</p>
<p>å…ˆé€šè¿‡sublistè·å–ç¬¬1åˆ°ç¬¬iä¸ªå­—æ¯ä¸­é—´æ‰€æœ‰çš„Postal[]ï¼Œç„¶åå¯¹å…¶é•¿åº¦è¿›è¡Œæ±‚å’Œï¼Œå°±å¯ä»¥å¾—åˆ°itemIndexï¼Œè€ŒgroupIndexå°±æ˜¯å­—æ¯é¡ºåºï¼›<br><img src="/img/posts/studys-zero-mall/03-08-image-args-postallistwidget.png" alt="ç¤ºæ„å›¾"></p>
<h3 id="å®šä½ä¿¡æ¯"><a href="#å®šä½ä¿¡æ¯" class="headerlink" title="å®šä½ä¿¡æ¯"></a>å®šä½ä¿¡æ¯</h3><p>ä½¿ç”¨<em>location</em>è·å–ç»çº¬åº¦ä¿¡æ¯<br>ä½¿ç”¨<em>flutter_z_location</em>è½¬æ¢ç»çº¬åº¦ä¸ºçœå¿å¸‚</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="comment">// è·å–GPSå®šä½ç»çº¬åº¦</span></span><br><span class="line">  Location location = <span class="keyword">new</span> Location();</span><br><span class="line">  <span class="built_in">bool</span> _serviceEnabled;</span><br><span class="line">  PermissionStatus _permissionGranted;</span><br><span class="line">  LocationData _locationData;</span><br><span class="line"></span><br><span class="line">  _serviceEnabled = <span class="keyword">await</span> location.serviceEnabled();</span><br><span class="line">  <span class="keyword">if</span> (!_serviceEnabled) &#123;</span><br><span class="line">    _serviceEnabled =</span><br><span class="line">        <span class="keyword">await</span> location.requestService();</span><br><span class="line">    <span class="keyword">if</span> (!_serviceEnabled) &#123;</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">&quot;æœåŠ¡æ²¡å¯åŠ¨&quot;</span>);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  _permissionGranted =</span><br><span class="line">      <span class="keyword">await</span> location.hasPermission();</span><br><span class="line">  <span class="keyword">if</span> (_permissionGranted ==</span><br><span class="line">      PermissionStatus.denied) &#123;</span><br><span class="line">    _permissionGranted =</span><br><span class="line">        <span class="keyword">await</span> location.requestPermission();</span><br><span class="line">    <span class="keyword">if</span> (_permissionGranted !=</span><br><span class="line">        PermissionStatus.granted) &#123;</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">&quot;è¯·æ±‚æƒé™æ²¡æˆåŠŸ&quot;</span>);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  _locationData = <span class="keyword">await</span> location.getLocation();</span><br><span class="line"></span><br><span class="line">  <span class="built_in">print</span>(</span><br><span class="line">      <span class="string">&quot;loc:<span class="subst">$&#123;_locationData.latitude&#125;</span>,<span class="subst">$&#123;_locationData.longitude&#125;</span>&quot;</span>);</span><br><span class="line">  <span class="comment">// ç»çº¬åº¦åå‘åœ°ç†ç¼–ç è·å–åœ°å€ä¿¡æ¯(çœã€å¸‚ã€åŒº)</span></span><br><span class="line">  <span class="keyword">final</span> loc =</span><br><span class="line">      <span class="keyword">await</span> FlutterZLocation.geocodeCoordinate(</span><br><span class="line">          _locationData.latitude!,</span><br><span class="line">          _locationData.longitude!,</span><br><span class="line">          pathHead: <span class="string">&#x27;assets/&#x27;</span>);</span><br><span class="line">  setState(() &#123;</span><br><span class="line">    _postalCode = loc.districtId;</span><br><span class="line">    postalList[<span class="number">0</span>] = loc.province;</span><br><span class="line">    postalList[<span class="number">1</span>] = loc.city;</span><br><span class="line">    postalList[<span class="number">2</span>] = loc.district;</span><br><span class="line">    _postalRegion.text = _postalRegionDesc;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;è·å–åœ°ç†ä¿¡æ¯å¤±è´¥äº†:<span class="subst">$e</span>&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="é€šè®¯å½•"><a href="#é€šè®¯å½•" class="headerlink" title="é€šè®¯å½•"></a>é€šè®¯å½•</h3><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Expanded(</span><br><span class="line">    child: IconButton(</span><br><span class="line">  icon: <span class="keyword">const</span> Icon(Icons.contact_phone),</span><br><span class="line">  color: Colors.blue,</span><br><span class="line">  onPressed: () <span class="keyword">async</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">final</span> PhoneContact contact =</span><br><span class="line">          <span class="keyword">await</span> FlutterContactPicker.pickPhoneContact();</span><br><span class="line">      setState(() &#123;</span><br><span class="line">        _phoneNumber.text = contact.phoneNumber!.number!;</span><br><span class="line">        _name.text = contact.fullName!;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">&quot;é€‰æ‹©å¤±è´¥&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">))</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨é€šè®¯å½•è·å–æ‰‹æœºå·å’Œåå­—</p>
<h3 id="åœ°å€ç²˜è´´æ¿"><a href="#åœ°å€ç²˜è´´æ¿" class="headerlink" title="åœ°å€ç²˜è´´æ¿"></a>åœ°å€ç²˜è´´æ¿</h3><p>æ–°å¢é¡µé¢å¢åŠ ä¸€ä¸ªåœ°å€ç²˜è´´æ¿çš„åŠŸèƒ½</p>
<ol>
<li>åˆæ­¥æå–æ‰‹æœºå·ã€å§“å<ol>
<li>ä½¿ç”¨å¤šç§åˆ†éš”ç¬¦åˆ†å‰²å­—ç¬¦ä¸²</li>
<li>éå†æ•°ç»„ï¼Œå¯»æ‰¾æ‰‹æœºå·</li>
<li>éå†æ•°ç»„ï¼Œå¯»æ‰¾å§“åï¼ˆå§“æ°å¼€å¤´ï¼Œ2-4ä½åå­—ï¼‰</li>
</ol>
</li>
<li>æå–æ‰€åœ¨åŒºåŸŸä¿¡æ¯<ol>
<li>éå†<em>Tables</em>ï¼Œåˆ¤æ–­æ–‡æœ¬ä¸­æ˜¯å¦å«æœ‰é‚®é€’åŒºåŸŸç›¸å…³çš„ä¿¡æ¯</li>
<li>æ‰¾åˆ°æœ€ç¬¦åˆçš„åœ°å€ï¼Œå¹¶è®¾ç½® æ‰€åœ¨åŒºåŸŸ ä¿¡æ¯</li>
</ol>
</li>
<li>æœ€ç»ˆæå–ä¿¡æ¯<ol>
<li>å°†1. 2.è·å–åˆ°çš„ä¿¡æ¯å…¨éƒ¨æ›¿æ¢æˆç©ºæ ¼</li>
<li>ä½¿ç”¨å¤šç§åˆ†éš”ç¬¦åˆ†å‰²å­—ç¬¦ä¸²</li>
<li>å½“1. æ²¡æœ‰æ‰¾åˆ°æ‰‹æœºå·æ—¶ï¼Œéå†æ•°ç»„ï¼Œå¯»æ‰¾æ‰‹æœºå·</li>
<li>å½“1. æ²¡æœ‰æ‰¾åˆ°æ‰‹æœºå·æ—¶ï¼Œéå†æ•°ç»„ï¼Œå¯»æ‰¾å§“åï¼ˆå§“æ°å¼€å¤´ï¼Œ2-4ä½åå­—ï¼‰</li>
<li>éå†æ•°ç»„ï¼Œå°†æœ€é•¿çš„ä¸€é¡¹è®¾ç½®ä¸ºè¯¦ç»†åœ°å€ğŸ¤£</li>
</ol>
</li>
</ol>
<div class="gallery-container" data-type="data" data-button="">
      <div class="gallery-data">[{"url":"/img/posts/studys-zero-mall/03-06-image-lookup-user-addressinfo.png","alt":"æ”¹é€ å"}]</div>
      <div class="gallery-items">
      </div>
    </div>

<h2 id="å¯èƒ½çš„å…¶ä»–æ”¹è¿›"><a href="#å¯èƒ½çš„å…¶ä»–æ”¹è¿›" class="headerlink" title="å¯èƒ½çš„å…¶ä»–æ”¹è¿›"></a>å¯èƒ½çš„å…¶ä»–æ”¹è¿›</h2><ol>
<li>æ‰€åœ¨åŒºåŸŸé€‰æ‹©çš„æ—¶å€™ï¼Œå¯ä»¿é€ äº¬ä¸œæä¾›çƒ­é—¨åŸå¸‚çš„é€‰é¡¹</li>
<li>ä¸€äº›ç»†èŠ‚å¹¶æœªå¤„ç†</li>
<li>å¯æ¥å…¥é«˜å¾·åœ°å›¾ç­‰APIï¼Œåœ¨åœ°å›¾ä¸Šé€‰æ‹©ä½ç½®</li>
</ol>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="https://supemeko.github.io">Gary Go</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="https://supemeko.github.io/2024/05/03/studys-zero-mall/studys-zero-mall-03/">https://supemeko.github.io/2024/05/03/studys-zero-mall/studys-zero-mall-03/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="https://supemeko.github.io" target="_blank">Gary's Blogs</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%96%87%E7%AB%A0/">æ–‡ç« </a><a class="post-meta__tags" href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">å­¦ä¹ ç¬”è®°</a></div><div class="post_share"><div class="social-share" data-image="https://jsd.012700.xyz/gh/jerryc127/CDN@latest/cover/default_bg.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/05/17/studys-zero-mall/studys-zero-mall-04/" title="Flutterç”µå•†é¡¹ç›®å­¦ä¹ ç¬”è®° 04-å®Œå–„æˆ‘çš„è®¢å•é¡µé¢æŸ¥è¯¢æ¥å£"><img class="cover" src="https://jsd.012700.xyz/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">Flutterç”µå•†é¡¹ç›®å­¦ä¹ ç¬”è®° 04-å®Œå–„æˆ‘çš„è®¢å•é¡µé¢æŸ¥è¯¢æ¥å£</div></div></a></div><div class="next-post pull-right"><a href="/2024/04/26/studys-zero-mall/studys-zero-mall-02/" title="Flutterç”µå•†é¡¹ç›®å­¦ä¹ ç¬”è®° 02-å®Œå–„åç®¡é”™è¯¯å¤„ç†"><img class="cover" src="https://jsd.012700.xyz/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">Flutterç”µå•†é¡¹ç›®å­¦ä¹ ç¬”è®° 02-å®Œå–„åç®¡é”™è¯¯å¤„ç†</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/2025/01/25/studys-rustdesk/studys-rustdesk-01/" title="RustDeskæºç å­¦ä¹ ç¬”è®° 01-å®ç°ä¸€ä¸ªåŸºäºtokioçš„UdpFramedçš„ç®€å•demo"><img class="cover" src="https://jsd.012700.xyz/gh/jerryc127/CDN@latest/cover/default_bg.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-01-25</div><div class="title">RustDeskæºç å­¦ä¹ ç¬”è®° 01-å®ç°ä¸€ä¸ªåŸºäºtokioçš„UdpFramedçš„ç®€å•demo</div></div></a></div><div><a href="/2024/04/25/studys-zero-mall/studys-zero-mall-01/" title="Flutterç”µå•†é¡¹ç›®å­¦ä¹ ç¬”è®° 01-é¡¹ç›®ä»‹ç»"><img class="cover" src="https://jsd.012700.xyz/gh/jerryc127/CDN@latest/cover/default_bg.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-04-25</div><div class="title">Flutterç”µå•†é¡¹ç›®å­¦ä¹ ç¬”è®° 01-é¡¹ç›®ä»‹ç»</div></div></a></div><div><a href="/2024/04/26/studys-zero-mall/studys-zero-mall-02/" title="Flutterç”µå•†é¡¹ç›®å­¦ä¹ ç¬”è®° 02-å®Œå–„åç®¡é”™è¯¯å¤„ç†"><img class="cover" src="https://jsd.012700.xyz/gh/jerryc127/CDN@latest/cover/default_bg.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-04-26</div><div class="title">Flutterç”µå•†é¡¹ç›®å­¦ä¹ ç¬”è®° 02-å®Œå–„åç®¡é”™è¯¯å¤„ç†</div></div></a></div><div><a href="/2024/05/17/studys-zero-mall/studys-zero-mall-04/" title="Flutterç”µå•†é¡¹ç›®å­¦ä¹ ç¬”è®° 04-å®Œå–„æˆ‘çš„è®¢å•é¡µé¢æŸ¥è¯¢æ¥å£"><img class="cover" src="https://jsd.012700.xyz/gh/jerryc127/CDN@latest/cover/default_bg.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-05-17</div><div class="title">Flutterç”µå•†é¡¹ç›®å­¦ä¹ ç¬”è®° 04-å®Œå–„æˆ‘çš„è®¢å•é¡µé¢æŸ¥è¯¢æ¥å£</div></div></a></div><div><a href="/2024/06/10/studys-zero-mall/studys-zero-mall-05/" title="Flutterç”µå•†é¡¹ç›®å­¦ä¹ ç¬”è®° 05-å®Œå–„æˆ‘çš„è®¢å•é¡µé¢é¡µé¢"><img class="cover" src="https://jsd.012700.xyz/gh/jerryc127/CDN@latest/cover/default_bg.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-06-10</div><div class="title">Flutterç”µå•†é¡¹ç›®å­¦ä¹ ç¬”è®° 05-å®Œå–„æˆ‘çš„è®¢å•é¡µé¢é¡µé¢</div></div></a></div><div><a href="/2025/01/25/studys-rustdesk/studys-rustdesk-02/" title="RustDeskæºç å­¦ä¹ ç¬”è®° 02-åˆ†æä¼šå’ŒæœåŠ¡çš„é€šä¿¡æŠ¥æ–‡1"><img class="cover" src="https://jsd.012700.xyz/gh/jerryc127/CDN@latest/cover/default_bg.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-01-25</div><div class="title">RustDeskæºç å­¦ä¹ ç¬”è®° 02-åˆ†æä¼šå’ŒæœåŠ¡çš„é€šä¿¡æŠ¥æ–‡1</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Gary Go</div><div class="author-info__description">è™¢å¯ä¸ºçš„åšå®¢</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">10</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">2</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">4</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/supemeko" target="_blank" title="Github"><i class="fab fa-github" style="color: #hdhfbb;"></i></a><a class="social-icon" href="mailto:nek03@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #000000;"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.</span> <span class="toc-text">ä»‹ç»</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E8%A6%81"><span class="toc-number">1.1.</span> <span class="toc-text">æ¦‚è¦</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E4%BF%A1%E6%81%AF"><span class="toc-number">1.2.</span> <span class="toc-text">å…¶ä»–ä¿¡æ¯</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%A3%E6%96%87"><span class="toc-number">2.</span> <span class="toc-text">æ­£æ–‡</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E4%BA%A4%E4%BA%92%E9%80%BB%E8%BE%91%E4%BB%A5%E5%8F%8A%E7%9B%B8%E5%BA%94%E5%90%8E%E7%AB%AF%E6%94%B9%E9%80%A0"><span class="toc-number">2.1.</span> <span class="toc-text">é¡µé¢äº¤äº’é€»è¾‘ä»¥åŠç›¸åº”åç«¯æ”¹é€ </span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%8E%E7%AB%AF%E6%8E%A5%E5%8F%A3"><span class="toc-number">2.1.1.</span> <span class="toc-text">åç«¯æ¥å£</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Add-Update%E6%8E%A5%E5%8F%A3%E6%94%B9%E9%80%A0"><span class="toc-number">2.1.2.</span> <span class="toc-text">Add, Updateæ¥å£æ”¹é€ </span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B0%E5%A2%9E%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C%E6%8E%A5%E5%8F%A3"><span class="toc-number">2.1.2.1.</span> <span class="toc-text">æ–°å¢æ•°æ®åº“æ“ä½œæ¥å£</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0%E5%90%8E%E7%AB%AF%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="toc-number">2.1.2.2.</span> <span class="toc-text">æ›´æ–°åç«¯æ¥å£çš„å®ç°</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E6%94%B9%E9%80%A0"><span class="toc-number">2.1.3.</span> <span class="toc-text">é¡µé¢æ”¹é€ </span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A1%A8%E5%8D%95%E6%96%87%E6%9C%AC%E9%A1%B9"><span class="toc-number">2.1.3.1.</span> <span class="toc-text">è¡¨å•æ–‡æœ¬é¡¹</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E8%A1%A8%E5%8D%95"><span class="toc-number">2.1.3.2.</span> <span class="toc-text">è®¾ç½®è¡¨å•</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A1%A8%E5%8D%95%E6%8F%90%E4%BA%A4"><span class="toc-number">2.1.3.3.</span> <span class="toc-text">è¡¨å•æäº¤</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%B7%A8%E9%A1%B5%E9%9D%A2%E4%BC%A0%E5%80%BC"><span class="toc-number">2.1.3.4.</span> <span class="toc-text">è·¨é¡µé¢ä¼ å€¼</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E8%B7%AF%E7%94%B1%E4%BC%A0%E5%80%BC%E5%88%B0%E5%AD%90%E9%A1%B5%E9%9D%A2"><span class="toc-number">2.1.3.4.1.</span> <span class="toc-text">é™æ€è·¯ç”±ä¼ å€¼åˆ°å­é¡µé¢</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%9C%89%E7%8A%B6%E6%80%81%E7%BB%84%E4%BB%B6%E4%BC%A0%E5%80%BC"><span class="toc-number">2.1.3.4.2.</span> <span class="toc-text">æœ‰çŠ¶æ€ç»„ä»¶ä¼ å€¼</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E7%BB%84%E4%BB%B6%E7%8A%B6%E6%80%81"><span class="toc-number">2.1.3.4.3.</span> <span class="toc-text">åˆå§‹åŒ–ç»„ä»¶çŠ¶æ€</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%87%E9%A2%98%E5%8F%8A%E5%88%A0%E9%99%A4%E6%8C%89%E9%92%AE"><span class="toc-number">2.1.3.5.</span> <span class="toc-text">æ ‡é¢˜åŠåˆ é™¤æŒ‰é’®</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9B%BF%E6%8D%A2%E9%A2%9C%E8%89%B2%E4%BB%A3%E7%A0%81"><span class="toc-number">2.1.3.6.</span> <span class="toc-text">æ›¿æ¢é¢œè‰²ä»£ç </span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E8%BF%94%E5%9B%9E"><span class="toc-number">2.1.3.7.</span> <span class="toc-text">è·¯ç”±è¿”å›</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%88%E6%9E%9C"><span class="toc-number">2.1.3.8.</span> <span class="toc-text">æ•ˆæœ</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%80%E5%9C%A8%E5%8C%BA%E5%9F%9F%E6%94%B9%E9%80%A0"><span class="toc-number">2.2.</span> <span class="toc-text">æ‰€åœ¨åŒºåŸŸæ”¹é€ </span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%94%B9%E9%80%A0%E5%86%85%E5%AE%B9"><span class="toc-number">2.2.1.</span> <span class="toc-text">æ”¹é€ å†…å®¹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%93%E7%9A%84%E9%80%89%E6%8B%A9"><span class="toc-number">2.2.2.</span> <span class="toc-text">åº“çš„é€‰æ‹©</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1"><span class="toc-number">2.2.3.</span> <span class="toc-text">æ¥å£è®¾è®¡</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%91%BD%E5%90%8D"><span class="toc-number">2.2.3.1.</span> <span class="toc-text">å‘½å</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AD%A6%E5%91%8A"><span class="toc-number">2.2.3.2.</span> <span class="toc-text">è­¦å‘Š</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%87%87%E7%94%A8%E6%95%B0%E6%8D%AE%E9%A9%B1%E5%8A%A8%E6%96%B9%E5%BC%8F"><span class="toc-number">2.2.3.3.</span> <span class="toc-text">é‡‡ç”¨æ•°æ®é©±åŠ¨æ–¹å¼</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%E5%8F%8A%E5%85%B6%E7%94%A8%E5%A4%84"><span class="toc-number">2.2.3.4.</span> <span class="toc-text">ç›®å½•ç»“æ„åŠå…¶ç”¨å¤„</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A8%E5%8F%8A%E6%95%B0%E6%8D%AE"><span class="toc-number">2.2.4.</span> <span class="toc-text">è¡¨åŠæ•°æ®</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Node-Table"><span class="toc-number">2.2.4.1.</span> <span class="toc-text">Node Table</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Postal-Table"><span class="toc-number">2.2.4.2.</span> <span class="toc-text">Postal Table</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Tables"><span class="toc-number">2.2.4.3.</span> <span class="toc-text">Tables</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Page%E5%AF%B9%E8%B1%A1"><span class="toc-number">2.2.5.</span> <span class="toc-text">Pageå¯¹è±¡</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B1%BB%E5%AE%9A%E4%B9%89"><span class="toc-number">2.2.5.1.</span> <span class="toc-text">ç±»å®šä¹‰</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Pick-Postal-%E9%80%89%E6%8B%A9%E9%82%AE%E9%80%92%E5%8C%BA%E5%9F%9F"><span class="toc-number">2.2.5.2.</span> <span class="toc-text">Pick Postal é€‰æ‹©é‚®é€’åŒºåŸŸ</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Page%E6%95%B0%E6%8D%AE"><span class="toc-number">2.2.6.</span> <span class="toc-text">ä½¿ç”¨Pageæ•°æ®</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E6%AF%8D%E7%B4%A2%E5%BC%95%E7%9A%84%E5%88%86%E7%BB%84%E5%92%8C%E6%8E%92%E5%BA%8F"><span class="toc-number">2.2.7.</span> <span class="toc-text">å­—æ¯ç´¢å¼•çš„åˆ†ç»„å’Œæ’åº</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF"><span class="toc-number">2.2.7.1.</span> <span class="toc-text">åŸºæœ¬æ€è·¯</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#PostalListWidget%E4%B8%AD%E5%88%86%E7%BB%84%E5%92%8C%E6%8E%92%E5%BA%8F%E7%9A%84%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="toc-number">2.2.7.2.</span> <span class="toc-text">PostalListWidgetä¸­åˆ†ç»„å’Œæ’åºçš„ä»£ç å®ç°</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%82%B9%E5%87%BB%E5%AD%97%E6%AF%8D%E5%88%97%E8%A1%A8%E6%BB%91%E5%8A%A8"><span class="toc-number">2.2.8.</span> <span class="toc-text">ç‚¹å‡»å­—æ¯åˆ—è¡¨æ»‘åŠ¨</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%BD%8D%E4%BF%A1%E6%81%AF"><span class="toc-number">2.3.</span> <span class="toc-text">å®šä½ä¿¡æ¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E8%AE%AF%E5%BD%95"><span class="toc-number">2.4.</span> <span class="toc-text">é€šè®¯å½•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%B0%E5%9D%80%E7%B2%98%E8%B4%B4%E6%9D%BF"><span class="toc-number">2.5.</span> <span class="toc-text">åœ°å€ç²˜è´´æ¿</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%AF%E8%83%BD%E7%9A%84%E5%85%B6%E4%BB%96%E6%94%B9%E8%BF%9B"><span class="toc-number">3.</span> <span class="toc-text">å¯èƒ½çš„å…¶ä»–æ”¹è¿›</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/02/02/studys-rustdesk/studys-rustdesk-04/" title="RustDeskæºç å­¦ä¹ ç¬”è®° 04-åˆ†æä¼šå’ŒæœåŠ¡çš„é€šä¿¡æŠ¥æ–‡3"><img src="https://jsd.012700.xyz/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="RustDeskæºç å­¦ä¹ ç¬”è®° 04-åˆ†æä¼šå’ŒæœåŠ¡çš„é€šä¿¡æŠ¥æ–‡3"/></a><div class="content"><a class="title" href="/2025/02/02/studys-rustdesk/studys-rustdesk-04/" title="RustDeskæºç å­¦ä¹ ç¬”è®° 04-åˆ†æä¼šå’ŒæœåŠ¡çš„é€šä¿¡æŠ¥æ–‡3">RustDeskæºç å­¦ä¹ ç¬”è®° 04-åˆ†æä¼šå’ŒæœåŠ¡çš„é€šä¿¡æŠ¥æ–‡3</a><time datetime="2025-02-02T08:53:00.000Z" title="å‘è¡¨äº 2025-02-02 16:53:00">2025-02-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/27/studys-rustdesk/studys-rustdesk-03/" title="RustDeskæºç å­¦ä¹ ç¬”è®° 03-åˆ†æä¼šå’ŒæœåŠ¡çš„é€šä¿¡æŠ¥æ–‡2"><img src="https://jsd.012700.xyz/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="RustDeskæºç å­¦ä¹ ç¬”è®° 03-åˆ†æä¼šå’ŒæœåŠ¡çš„é€šä¿¡æŠ¥æ–‡2"/></a><div class="content"><a class="title" href="/2025/01/27/studys-rustdesk/studys-rustdesk-03/" title="RustDeskæºç å­¦ä¹ ç¬”è®° 03-åˆ†æä¼šå’ŒæœåŠ¡çš„é€šä¿¡æŠ¥æ–‡2">RustDeskæºç å­¦ä¹ ç¬”è®° 03-åˆ†æä¼šå’ŒæœåŠ¡çš„é€šä¿¡æŠ¥æ–‡2</a><time datetime="2025-01-27T15:25:00.000Z" title="å‘è¡¨äº 2025-01-27 23:25:00">2025-01-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/25/studys-rustdesk/studys-rustdesk-02/" title="RustDeskæºç å­¦ä¹ ç¬”è®° 02-åˆ†æä¼šå’ŒæœåŠ¡çš„é€šä¿¡æŠ¥æ–‡1"><img src="https://jsd.012700.xyz/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="RustDeskæºç å­¦ä¹ ç¬”è®° 02-åˆ†æä¼šå’ŒæœåŠ¡çš„é€šä¿¡æŠ¥æ–‡1"/></a><div class="content"><a class="title" href="/2025/01/25/studys-rustdesk/studys-rustdesk-02/" title="RustDeskæºç å­¦ä¹ ç¬”è®° 02-åˆ†æä¼šå’ŒæœåŠ¡çš„é€šä¿¡æŠ¥æ–‡1">RustDeskæºç å­¦ä¹ ç¬”è®° 02-åˆ†æä¼šå’ŒæœåŠ¡çš„é€šä¿¡æŠ¥æ–‡1</a><time datetime="2025-01-25T04:18:01.000Z" title="å‘è¡¨äº 2025-01-25 12:18:01">2025-01-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/25/studys-rustdesk/studys-rustdesk-01/" title="RustDeskæºç å­¦ä¹ ç¬”è®° 01-å®ç°ä¸€ä¸ªåŸºäºtokioçš„UdpFramedçš„ç®€å•demo"><img src="https://jsd.012700.xyz/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="RustDeskæºç å­¦ä¹ ç¬”è®° 01-å®ç°ä¸€ä¸ªåŸºäºtokioçš„UdpFramedçš„ç®€å•demo"/></a><div class="content"><a class="title" href="/2025/01/25/studys-rustdesk/studys-rustdesk-01/" title="RustDeskæºç å­¦ä¹ ç¬”è®° 01-å®ç°ä¸€ä¸ªåŸºäºtokioçš„UdpFramedçš„ç®€å•demo">RustDeskæºç å­¦ä¹ ç¬”è®° 01-å®ç°ä¸€ä¸ªåŸºäºtokioçš„UdpFramedçš„ç®€å•demo</a><time datetime="2025-01-25T04:18:00.000Z" title="å‘è¡¨äº 2025-01-25 12:18:00">2025-01-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/25/hello-world/" title="Hello World"><img src="https://jsd.012700.xyz/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hello World"/></a><div class="content"><a class="title" href="/2025/01/25/hello-world/" title="Hello World">Hello World</a><time datetime="2025-01-25T04:15:38.294Z" title="å‘è¡¨äº 2025-01-25 12:15:38">2025-01-25</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2025 By Gary Go</div><div class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="ç®€ç¹è½¬æ¢">ç°¡</button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="translateLink" type="button" title="ç®€ç¹è½¬æ¢">ç°¡</button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="/js/tw_cn.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>